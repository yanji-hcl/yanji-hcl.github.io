_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{"4nOO":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/generate",function(){return n("aood")}])},"7gpI":function(e,t,n){"use strict";var r=n("nKUr"),c=(n("q1tI"),n("XzT5")),a=n("9xET"),i=n.n(a),o=(n("YFqc"),n("17x9")),s=n.n(o),l=n("whbN"),u=n("4CzQ"),j=n.n(u),d=n("mOvS"),b=n.n(d)()().publicRuntimeConfig;l.a.propTypes={title:s.a.string,tours:s.a.array},l.a.defaultProps={title:"",tours:[]},t.a=function(e){e.alias;var t=e.title,n=e.desc,a=e.tours;return Object(r.jsxs)("div",{children:[Object(r.jsx)(i.a,{className:j.a.domainTitleWrapper,children:Object(r.jsxs)("div",{children:["dbx"===t.toLowerCase()?Object(r.jsx)("img",{src:"".concat(b.asset,"/static/dist/images/dbx_logo.png"),className:j.a.title}):Object(r.jsx)("h1",{className:j.a.title,children:c.a.t(t).toUpperCase()}),Object(r.jsx)("div",{className:j.a.desc,dangerouslySetInnerHTML:{__html:c.a.t(n)}})]})}),Object(r.jsx)(i.a,{type:"flex",className:j.a.assetsContainer,children:a.map((function(e){return Object(r.jsx)(l.a,{tour:e,dbx:"dbx"===t.toLowerCase()},e.nid)}))})]})}},AP2z:function(e,t,n){var r=n("nmnc"),c=Object.prototype,a=c.hasOwnProperty,i=c.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(s){}var c=i.call(e);return r&&(t?e[o]=n:delete e[o]),c}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},KQm4:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return c}))},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var r=n("WFqU"),c="object"==typeof self&&self&&self.Object===Object&&self,a=r||c||Function("return this")();e.exports=a},LY0y:function(e,t){(function(t){e.exports=function(){var e={880:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},n={};function r(t){if(n[t])return n[t].exports;var c=n[t]={exports:{}},a=!0;try{e[t](c,c.exports,r),a=!1}finally{a&&delete n[t]}return c.exports}return r.ab=t+"/",r(880)}()}).call(this,"/")},NykK:function(e,t,n){var r=n("nmnc"),c=n("AP2z"),a=n("KfNM"),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?c(e):a(e)}},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("ntbh"))},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},aood:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),c=n("o0o1"),a=n.n(c),i=n("KQm4"),o=n("rePB"),s=n("HaE+"),l=n("q1tI"),u=n("PGnZ"),j=n.n(u),d=n("mOvS"),b=n.n(d),p=n("6EMX"),f=n("vDqi"),h=n.n(f),O=n("whbN"),m=n("7gpI"),x=n("kACj");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=b()().publicRuntimeConfig,w="http://localhost:3200/api";t.default=function(){var e=Object(l.useState)({title:"",description:"",checksum:"",kuid:"953f7at8-eba4-40rd-86uc-bf1f0dnd",category:[],details:"",cards:0,time:0,platformVersion:9.2,language:"en"}),t=e[0],n=e[1],c=Object(l.useState)("card"),u=c[0],d=c[1],b=Object(l.useState)({}),f=b[0],v=b[1],N=Object(l.useState)(null),k=N[0],C=N[1],P=Object(l.useState)({}),S=P[0],T=P[1],A=Object(l.useState)([]),_=A[0],D=A[1],E=function(){var e=Object(s.a)(a.a.mark((function e(){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.hikesData,e.next=3,Object(p.getHikesCategories)(r);case 3:c=e.sent,T(c[0]),n(g(g({},t),{},{category:S.categoryName})),D(Object(i.a)(c));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){if(d(e),"list"===e)Object(i.a)(_)},K=function(){var e=Object(s.a)(a.a.mark((function e(r){var c,i,s,l,u,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.target.files[0],v(c),(i=new FormData).append("file",c),e.next=6,h.a.post("".concat(w,"/checksum/generate"),i,{headers:{"Content-Type":"multipart/form-data"}});case 6:s=e.sent,l=s.data,u=l.checksum,j=l.tempFilePath,C(j),n(g(g({},t),{},Object(o.a)({},"checksum",u)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var r=e.target,c=r.name,a=r.value;"category"===c&&function(e){var t=_.filter((function(t){return e===t.categoryName}));T(t[0])}(a),n(g(g({},t),{},Object(o.a)({},c,a)))},F=function(){var e=Object(s.a)(a.a.mark((function e(n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),0===Object.keys(f).length&&f.constructor===Object){e.next=10;break}return r=g(g({},t),{},{tempZipFilePath:k,filename:f.name}),e.next=6,h.a.post("".concat(w,"/tour/output"),r);case 6:c=e.sent,console.log(c.data),e.next=11;break;case 10:alert("Missing tour zip file");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return E(),function(){}}),[]),Object(r.jsxs)("div",{className:j.a.pageContainer,children:[Object(r.jsx)("h1",{children:"Add Hike/Tour"}),Object(r.jsxs)("div",{className:j.a.generate,children:[Object(r.jsx)("div",{className:j.a.generateForm,children:Object(r.jsxs)("form",{onSubmit:F,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Upload Tour File"}),Object(r.jsx)("input",{name:"file",onChange:K,type:"file"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Generated Checksum"}),Object(r.jsx)("p",{children:t.checksum})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"KUID"}),Object(r.jsx)("input",{value:t.kuid,onChange:U,name:"kuid",placeholder:"KUID"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Language"}),Object(r.jsxs)("select",{value:t.language,onChange:U,name:"language",children:[Object(r.jsx)("option",{value:"en",children:"English"}),Object(r.jsx)("option",{value:"esp",children:"Spanish"}),Object(r.jsx)("option",{value:"nl",children:"Dutch"}),Object(r.jsx)("option",{value:"cn",children:"Chinese"})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Category"}),Object(r.jsx)("select",{value:t.category,onChange:U,name:"category",children:_.map((function(e){return Object(r.jsx)("option",{value:e.categoryName,children:e.categoryName})}))})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Title"}),Object(r.jsx)("input",{value:t.title,onChange:U,name:"title",placeholder:"Add Title"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Description"}),Object(r.jsx)("textarea",{rows:7,value:t.description,onChange:U,name:"description",placeholder:"Add Description"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Steps"}),Object(r.jsx)("input",{min:0,type:"number",value:t.cards,onChange:U,name:"cards",placeholder:"How many steps"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Time"}),Object(r.jsx)("input",{min:0,type:"number",value:t.time,onChange:U,name:"time",placeholder:"How much time"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Platform Version"}),Object(r.jsx)("input",{value:t.platformVersion,onChange:U,name:"description",label:"Description"})]}),Object(r.jsx)("button",{type:"submit",children:"Generate"})]})}),Object(r.jsxs)("div",{className:j.a.preview,children:[Object(r.jsxs)("ul",{className:j.a.previews,children:[Object(r.jsx)("li",{onClick:function(){return I("card")},children:"Card Preview"}),Object(r.jsx)("li",{onClick:function(){return I("list")},children:"List Preview"}),Object(r.jsx)("li",{onClick:function(){return I("inside")},children:"Inside Preview"})]}),Object(r.jsx)("hr",{}),"card"===u&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:S.categoryName}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:S.categoryDescription}}),Object(r.jsx)(O.a,{tour:{title:t.title,description:t.description,cards:t.cards,time:"".concat(t.time," Minutes")}})]}),"list"===u&&_.map((function(e){return null!==e.categoryTours?Object(r.jsx)(m.a,{title:e.categoryName,desc:e.categoryDescription,alias:e.categoryAlias||e.categoryName,tours:e.categoryTours},e.categoryName):null})),"inside"===u&&Object(r.jsx)(x.default,{url:{asPath:"/hikes/tour/add-create-recipient"}})]})]})]})}},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},whbN:function(e,t,n){"use strict";(function(e){var r=n("nKUr"),c=(n("q1tI"),n("XzT5")),a=n("ZPTe"),i=n.n(a),o=n("YFqc"),s=n.n(o),l=n("JviU"),u=n.n(l),j=n("7Qib"),d=n("8SHQ"),b="production"===(e&&e.env,"production")?"".concat(d.b,"/"):"",p=function(e){var t=e.tour,n=e.dbx;e.search;return Object(r.jsx)(i.a,{sm:8,xs:24,children:Object(r.jsx)("div",{className:u.a.tour,children:Object(r.jsx)(s.a,{href:{pathname:"".concat(b).concat(t.alias),query:{lang:c.a.language}},children:Object(r.jsxs)("div",{className:u.a.info,children:[Object(r.jsx)("h2",{className:"".concat(u.a.title," ").concat(n?u.a.dbxColor:""," "),children:Object(j.f)(t.title,34)}),Object(r.jsx)("p",{className:u.a.desc,children:t.description}),Object(r.jsx)("p",{className:u.a.meta,children:"".concat(c.a.t("step",{count:t.cards})," / ").concat(t.time)})]})})})})};p.defaultProps={tour:{},dbx:!1},t.a=p}).call(this,n("8oxB"))}},[["4nOO",1,2,4,7,0,3,8,9,17,19,28,6]]]);